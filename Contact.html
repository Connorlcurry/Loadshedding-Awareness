<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="jquery-3.7.1.min.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    <!-- favicon -->
    <link rel="icon" href="Images/LAfavicon_white.png" type="image/png">

  <style>
    #contactForm {
      background-color: rgb(56, 56, 56); 
      width: 36rem;
      padding: 50px;
      border-radius: 50px;
      color: white;
  }
  </style>

  <title>Contact</title>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-danger navbar-danger">
    <div class="container">
      <a class="navbar-brand" href="./"><img src="./Images/LAfavicon_white.png" height="24px" width="auto" alt="Company Logo">L-AS</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <button class="btn btn-danger" onclick="resetGame(); location.href='./Map'">Play Again</button>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Language</a>
            <ul id="lang-Select" class="dropdown-menu">
              <li><a class="dropdown-item" href="#">English</a></li>
              <li><a class="dropdown-item" href="#">Afrikaans</a></li>
              <li><a class="dropdown-item" href="#">Xhosa</a></li>
            </ul>
          </li>
            <li class="nav-item">
              <a class="nav-link active" href="./Contact">Contact</a>
            </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="container mt-5 text-center">
    <div>
      <h1 id="contactUsTitle" class="mb-4">Contact Us</h1>
      <!-- Load-Shedding Awareness description -->
      <h2 id="ourStoryTitle">Our Story</h2>
      <p id="ourStory1" class="lead mb-4">Like many South Africans, we’ve sat in the dark—phones dim, appliances silent, wondering when the lights would come back on. 
        But instead of waiting, we decided to create something in the dark—a game that turns the frustration of load shedding into a moment of reflection, 
        learning, and even a little fun.
      </p>
      <p id="ourStory2" class="lead mb-4">
        We wanted to do more than just talk about saving electricity. We wanted people to feel it—to navigate a world without power and understand just 
        how much energy we use every day. Our game challenges you to find appliances in the dark, putting you in the shoes of millions affected by energy 
        shortages, while showing how small changes can make a big difference.
      </p>

      <!-- Contact Form -->
      <div id="contactForm" class="mx-auto bg-danger">
        <h2 id="contactFormTitle">Get in Touch</h2>
        <form action="https://formspree.io/f/mblowgvl" method="POST" style="width: 26rem;" id="contactFormForm" class="mx-auto">
          <div data-mdb-input-init class="form-outline mb-3">
            <label class="form-label" for="contactFormName">Name</label>
            <input type="text" name="name" id="contactFormName" class="form-control" required>
          </div>
          <div data-mdb-input-init class="form-outline mb-3">
            <label class="form-label" for="contactFormEmail">Email address</label>
            <input type="email" name="email" id="contactFormEmail" class="form-control" required>
          </div>
          <div data-mdb-input-init class="form-outline mb-3">
            <label class="form-label" for="contactFormMessage">Message</label>
            <textarea name="message" class="form-control" id="contactFormMessage" rows="4" placeholder="Type your message here..." required></textarea>
          </div>
          <button data-mdb-ripple-init type="submit" id="contactFormSend" class="btn btn-light btn-block mb-3">Send</button><br>
          <a class="twitter-share-button" target="_blank" rel="noopener noreferrer" data-size="large" href="https://twitter.com/intent/tweet?text=I just attempted my run on Loadhsedding Awareness!"></a>
        </form>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="container d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <!-- Copyright -->
    <div class="col-md-4 d-flex align-items-center">
      <img src="./Images/LAfavicon.png" alt="Load-Shedding Awareness" height="24" width="auto" class="d-inline-block align-text-top">
      <span class="mb-3 mb-md-0 text-body-secondary">© 2025, Load-Shedding Awareness</span>
    </div>

    <!-- Social Media Links -->
    <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
      <li class="ms-3"> <a href="https://www.facebook.com/"><img src="./Images/Social Media Images/facebook.png" height="24" width="auto" alt="Facebook Link"></a></li>
      <li class="ms-3"> <a href="https://www.instagram.com/"><img src="./Images/Social Media Images/instagram.png" height="24" width="auto" alt="Instaram Link"></a></li>
      <li class="ms-3"> <a href="https://www.linkedin.com/"><img src="./Images/Social Media Images/linkedin.png" height="24" width="auto" alt="Linkedin Link"></a></li>
      <li class="ms-3"> <a href="https://x.com/?lang=en"><img src="./Images/Social Media Images/twitter.png" height="24" width="auto" alt="Twitter Link"></a></li>
      <li class="ms-3"> <a href="https://www.youtube.com/"><img src="./Images/Social Media Images/youtube.png" height="24" width="auto" alt="YouTube Link"></a></li>
      <li class="ms-3"> <a href="https://www.tiktok.com/"><img src="./Images/Social Media Images/tiktok.png" height="24" width="auto" alt="TikTok Link"></a></li>
    </ul>
  </footer>

  <!-- Div for contact form validation and feedback -->
  <div id="contactFormFeedback" class="alert modal fade mt-3" role="alert" style="display:none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Message Sent</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
          <p>Thank you for contacting us, your email has been sent successfully!</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="alert" aria-label="Close">Close</button>
        </div>
      </div>
    </div>
  </div>
  
    <!-- Modal for Username input -->
    <div class="modal fade" id="playModal" tabindex="-1" aria-labelledby="playModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content rounded-4 shadow">
          <div class="modal-header p-5 pb-4 border-bottom-0">
            <h1 class="fw-bold mb-0 fs-2" id="playModalLabel">Insert your name</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body p-5 pt-0">
            <form id="startGameForm">
              <p>Insert your details to play the game.</p>

              <!-- Full Name -->
              <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-3" id="fullNameInput" placeholder="Enter your name">
                <label for="fullNameInput">Full Name</label>
              </div>

              <!-- Gender Dropdown -->
              <div class="form-floating mb-3">
                <select class="form-select rounded-3" id="genderSelect">
                  <option value="" selected>Select your gender</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other">Other</option>
                </select>
                <label for="genderSelect">Gender</label>
              </div>

              <button class="w-100 mb-2 btn btn-lg rounded-3 btn-dark" type="submit">Start</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script>
       const translate = {
      en: {
        contactUsTitle: "Contact Us",
        ourStoryTitle: "Our Story",
        ourStory1: `Like many South Africans, we’ve sat in the dark—phones dim, appliances silent, wondering when the lights would come back on. 
                 But instead of waiting, we decided to create something in the dark—a game that turns the frustration of load shedding into a moment of reflection, 
                 learning, and even a little fun.`,
        ourStory2: `We wanted to do more than just talk about saving electricity. We wanted people to feel it—to navigate a world without power and understand just 
                 how much energy we use every day. Our game challenges you to find appliances in the dark, putting you in the shoes of millions affected by energy 
                 shortages, while showing how small changes can make a big difference.`,
        contactFormTitle: "Get in Touch",
        contactFormName: "Name",
        contactFormEmail: "Email",
        contactFormMessage: "Message",
        contactFormSend: "Send"
      },
      af: {
        contactUsTitle: "Kontak Ons",
        ourStoryTitle: "Ons Storie",
        ourStory1: `Soos baie Suid-Afrikaners, het ons in die donker gesit – telefone verdof, toestelle stil, wonder wanneer die ligte weer sal aangaan. 
                 Maar in plaas van om te wag, het ons besluit om iets in die donker te skep—'n speletjie wat die frustrasie van beurtkrag in 'n oomblik van refleksie verander, 
                 leer, en selfs 'n bietjie pret.`,
        ourStory2: `Ons wou meer doen as net praat oor elektrisiteitsbesparing. Ons wou hê mense moet dit voel—om 'n wêreld sonder krag te navigeer en net te verstaan 
                 hoeveel energie ons elke dag gebruik. Ons speletjie daag jou uit om toestelle in die donker te vind, en plaas jou in die skoene van miljoene wat deur energie geraak word 
                 tekorte, terwyl hulle wys hoe klein veranderinge 'n groot verskil kan maak.`,
        contactFormTitle: "Kontak",
        contactFormName: "Naam",
        contactFormEmail: "E-Pos",
        contactFormMessage: "Boodskap",
        contactFormSend: "Stuur"
      },
      xh: {
        contactUsTitle: "Qhagamshelana Nathi",
        ourStoryTitle: "Ibali Lethu",
        ourStory1: `Njengabemi abaninzi baseMzantsi Afrika, siye sahlala ebumnyameni—iifowuni zimfiliba, izixhobo zombane zithe cwaka, sizibuza ukuba ziya kubuya nini na izibane. 
                 Kodwa endaweni yokulinda, sigqibe kwelokuba senze into ebumnyameni-umdlalo ojika ukuphoxeka kokucinywa komthwalo ube ngumzuzu wokucinga, 
                 ukufunda, kwaye nokuba mnandi kancinci.`,
        ourStory2: `Sasifuna ukwenza okungakumbi kunokuthetha nje ukonga umbane. Sasifuna ukuba abantu bayive—bahambe kwihlabathi elingenawo amandla nokuqonda okusesikweni 
                 angakanani amandla esiwasebenzisa yonke imihla. Umdlalo wethu ucela umngeni kuwe ukuba ufumane izixhobo zombane ebumnyameni, kukubeka ezihlangwini zezigidi ezichatshazelwe ngamandla 
                 ukunqongophala, ngelixa ebonisa ukuba utshintsho oluncinci lunokwenza umahluko omkhulu kangakanani.`,
        contactFormTitle: "Dibana No",
        contactFormName: "Igama",
        contactFormEmail: "Imeyile",
        contactFormMessage: "Umyalezo",
        contactFormSend: "Thumela"
      }
    }; 

    function setLanguage(lang) {
      localStorage.setItem("preferredlanguage", lang);
      document.getElementById("contactUsTitle").innerText = translate[lang].contactUsTitle;
      document.getElementById("ourStoryTitle").innerText = translate[lang].ourStoryTitle;
      document.getElementById("ourStory1").innerText = translate[lang].ourStory1;
      document.getElementById("ourStory2").innerText = translate[lang].ourStory2;
      document.getElementById("contactFormTitle").innerText = translate[lang].contactFormTitle;
      document.getElementById("contactFormName").innerText = translate[lang].contactFormName;
      document.getElementById("contactFormEmail").innerText = translate[lang].contactFormEmail;
      document.getElementById("contactFormMessage").innerText = translate[lang].contactFormMessage;
      document.getElementById("contactFormSend").innerText = translate[lang].contactFormSend;
      // Set the selected language in the dropdown
      document.getElementById("lang-Select").value = lang;
    }

    document.querySelectorAll("#lang-Select .dropdown-item").forEach(item => {
      item.addEventListener("click", function (e) {
        e.preventDefault();
        const selectedLang = this.textContent.trim().toLowerCase();
        if (selectedLang === "english") setLanguage("en");
        else if (selectedLang === "afrikaans") setLanguage("af");
        else if (selectedLang === "xhosa") setLanguage("xh");
      });
    });

    // Set Optional to load our default language via browser settings
    window.onload = function() {
        const saveLang = localStorage.getItem("preferredlanguage")
        const userLanguage = saveLang || (navigator.language.startsWith ("en") ? "en" : 
                            navigator.language.startsWith ("af") ? "af" : "xh");
                            setLanguage(userLanguage);
      }

    // Event listener to display either a success or error message after user clicks submit
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("contactFormForm");
      const successMessage = document.getElementById("contactFormFeedback");

      form.addEventListener("submit", function (e) {
        e.preventDefault(); // This prevents the user from being redirected to Formspree's own success message, displaying our one instead.

        const formData = new FormData(form);

        // Using fetch prevents the page from reloading as the data from the form is sent via JavaScript
        fetch(form.action, {
          method: form.method,
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        })
        .then(response => {
          if (response.ok) {
            form.reset(); // Clear the form inputs after submitting
            successMessage.style.display = "block"; // Displays the success message
            successMessage.classList.add("show");
          } else {
            alert("Oops! Something went wrong submitting your message."); // Error message
          }
        })
      });
    })

    </script>
    <!-- javascript Links -->
    <script src="javascript.js"></script>
    <!-- Bootstrap javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>   
    <!-- Script that allows user to share to Twitter -->
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</body>
</html>